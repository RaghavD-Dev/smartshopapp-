<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout(~{::body})">
<body>

<h4 class="section-title mb-3">My Wishlist</h4>

<div th:if="${items == null or #lists.isEmpty(items)}" class="empty-state">
    <h5>No items in wishlist</h5>
    <p class="text-muted">Save items you like and buy them later.</p>
    <a th:href="@{/}" class="btn btn-primary">Browse Products</a>
</div>

<div class="row g-4" th:unless="${items == null or #lists.isEmpty(items)}">

    <div class="col-6 col-md-4 col-lg-3" th:each="w : ${items}">
        <div class="product-card h-100">

            <div class="product-img-wrapper">
                <img th:src="${w.product.imageUrl}" class="product-img" alt="Product">
                <span class="badge wishlist-badge" th:if="${w.purchaseGoal}">Goal</span>
                <span class="badge price-alert-badge" th:if="${w.priceDropAlert}">Price Drop Alert</span>
            </div>

            <div class="product-body">
                <div class="product-name" th:text="${w.product.name}"></div>
                <div class="product-category text-muted small" th:text="${w.product.category}"></div>

                <div class="price-row mt-2">
                    <span th:if="${w.product.discountPrice != null}">
                        <span class="old-price" th:text="'₹' + ${w.product.price}"></span>
                        <span class="new-price" th:text="'₹' + ${w.product.discountPrice}"></span>
                    </span>
                    <span th:if="${w.product.discountPrice == null}">
                        <span class="new-price" th:text="'₹' + ${w.product.price}"></span>
                    </span>
                </div>
            </div>

        </div>
    </div>

</div>

</body>
</html>
